!function($){$.fn.marquee=function(e){return this.each(function(){var t=$.extend({},$.fn.marquee.defaults,e),i=$(this),n,a,r,s,o,u=3,d="animation-play-state",p=!1,f=function(e,t,i){for(var n=["webkit","moz","MS","o",""],a=0;a<n.length;a++)n[a]||(t=t.toLowerCase()),e.addEventListener(n[a]+t,i,!1)},l=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+":"+e[i]);return t.push(),"{"+t.join(",")+"}"},c=function(){i.timer=setTimeout(B,t.delayBeforeStart)},m={pause:function(){p&&t.allowCss3Support?n.css(d,"paused"):$.fn.pause&&n.pause(),i.data("runningStatus","paused"),i.trigger("paused")},resume:function(){p&&t.allowCss3Support?n.css(d,"running"):$.fn.resume&&n.resume(),i.data("runningStatus","resumed"),i.trigger("resumed")},toggle:function(){m["resumed"==i.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(i.timer),i.find("*").andSelf().unbind(),i.html(i.find(".js-marquee:first").html())}};if("string"==typeof e)return void($.isFunction(m[e])&&(n||(n=i.find(".js-marquee-wrapper")),i.data("css3AnimationIsSupported")===!0&&(p=!0),m[e]()));var g={},h;$.each(t,function(e,n){if(h=i.attr("data-"+e),"undefined"!=typeof h){switch(h){case"true":h=!0;break;case"false":h=!1}t[e]=h}}),t.duration=t.speed||t.duration,s="up"==t.direction||"down"==t.direction,t.gap=t.duplicated?parseInt(t.gap):0,i.wrapInner('<div class="js-marquee"></div>');var v=i.find(".js-marquee").css({"margin-right":t.gap,"float":"left"});if(t.duplicated&&v.clone(!0).appendTo(i),i.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),n=i.find(".js-marquee-wrapper"),s){var y=i.height();n.removeAttr("style"),i.height(y),i.find(".js-marquee").css({"float":"none","margin-bottom":t.gap,"margin-right":0}),t.duplicated&&i.find(".js-marquee:last").css({"margin-bottom":0});var w=i.find(".js-marquee:first").height()+t.gap;t.duration=(parseInt(w,10)+parseInt(y,10))/parseInt(y,10)*t.duration}else o=i.find(".js-marquee:first").width()+t.gap,a=i.width(),t.duration=(parseInt(o,10)+parseInt(a,10))/parseInt(a,10)*t.duration;if(t.duplicated&&(t.duration=t.duration/2),t.allowCss3Support){var x=document.body||document.createElement("div"),S="marqueeAnimation-"+Math.floor(1e7*Math.random()),q="Webkit Moz O ms Khtml".split(" "),b="animation",j="",I="";if(x.style.animation&&(I="@keyframes "+S+" ",p=!0),p===!1)for(var C=0;C<q.length;C++)if(void 0!==x.style[q[C]+"AnimationName"]){var A="-"+q[C].toLowerCase()+"-";b=A+b,d=A+d,I="@"+A+"keyframes "+S+" ",p=!0;break}p&&(j=S+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s infinite "+t.css3easing,i.data("css3AnimationIsSupported",!0))}var k=function(){n.css("margin-top","up"==t.direction?y+"px":"-"+w+"px")},O=function(){n.css("margin-left","left"==t.direction?a+"px":"-"+o+"px")};t.duplicated?(s?n.css("margin-top","up"==t.direction?y+"px":"-"+(2*w-t.gap)+"px"):n.css("margin-left","left"==t.direction?a+"px":"-"+(2*o-t.gap)+"px"),u=1):s?k():O();var B=function(){if(t.duplicated&&(1===u?(t._originalDuration=t.duration,t.duration=s?"up"==t.direction?t.duration+y/(w/t.duration):2*t.duration:"left"==t.direction?t.duration+a/(o/t.duration):2*t.duration,j&&(j=S+" "+t.duration/1e3+"s "+t.delayBeforeStart/1e3+"s "+t.css3easing),u++):2===u&&(t.duration=t._originalDuration,j&&(S+="0",I=$.trim(I)+"0 ",j=S+" "+t.duration/1e3+"s 0s infinite "+t.css3easing),u++)),s?t.duplicated?(u>2&&n.css("margin-top","up"==t.direction?0:"-"+w+"px"),r={"margin-top":"up"==t.direction?"-"+w+"px":0}):(k(),r={"margin-top":"up"==t.direction?"-"+n.height()+"px":y+"px"}):t.duplicated?(u>2&&n.css("margin-left","left"==t.direction?0:"-"+o+"px"),r={"margin-left":"left"==t.direction?"-"+o+"px":0}):(O(),r={"margin-left":"left"==t.direction?"-"+o+"px":a+"px"}),i.trigger("beforeStarting"),p){n.css(b,j);var e=I+" { 100%  "+l(r)+"}",d=$("style");0!==d.length?d.filter(":last").append(e):$("head").append("<style>"+e+"</style>"),f(n[0],"AnimationIteration",function(){i.trigger("finished")}),f(n[0],"AnimationEnd",function(){B(),i.trigger("finished")})}else n.animate(r,t.duration,t.easing,function(){i.trigger("finished"),t.pauseOnCycle?c():B()});i.data("runningStatus","resumed")};i.bind("pause",m.pause),i.bind("resume",m.resume),t.pauseOnHover&&i.bind("mouseenter mouseleave",m.toggle),p&&t.allowCss3Support?B():c()})},$.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1}}(jQuery);